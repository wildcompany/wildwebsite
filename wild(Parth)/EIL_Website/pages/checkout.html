<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout | WILD – Emotional Intelligence</title>
  <link rel="stylesheet" href="../css/checkout.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

<!-- Navbar -->
<header class="navbar">
  <div class="logo">
    <div class="logo-circle" style="background-image:url(../images/logo.png)"></div>
    <span>Emotional Intelligence</span>
  </div>

  <nav>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="subscription.html">Subscription</a></li>
    </ul>
  </nav>
</header>

<!-- Checkout Container -->
<div class="checkout-container">

  <!-- Left: Payment Details -->
  <div class="payment-section">
    <h2>Payment Details</h2>

    <label>Full Name</label>
    <input type="text" id="full_name" name="full_name" placeholder="John Doe" required>

    <label>Email Address</label>
    <input type="email" id="email" name="email" placeholder="john@example.com" required>

    <label>Card Number</label>
    <input type="text" id="card_number" name="card_number" placeholder="1234 5678 9012 3456" required>

    <div class="half-inputs">
      <div>
        <label>Expiry Date</label>
        <input type="text" id="expiry" name="expiry" placeholder="MM/YY" required>
      </div>

      <div>
        <label>CVV</label>
        <input type="text" id="cvv" name="cvv" placeholder="123" required>
      </div>
    </div>

    <button class="btn-pay" id="btnPay" type="button">Complete Payment →</button>
  </div>

  <!-- Right: Order Summary -->
  <div class="summary-section">
    <h3>Your Plan</h3>

    <div class="summary-card">
      <h4>Premium Monthly Access</h4>
      <p class="description">Unlimited premium videos, exclusive articles, events access.</p>

      <div class="price-row">
        <span>Subscription</span>
        <span>$19.99 / month</span>
      </div>

      <div class="price-row">
        <span>Platform Fee</span>
        <span>$0.00</span>
      </div>

      <hr>

      <div class="total-row">
        <span>Total</span>
        <span class="total-price">$19.99</span>
      </div>
    </div>
  </div>

</div>

<!-- Footer -->
<footer>
  <p>© 2025 WILD – Emotional Intelligence in Leadership. All Rights Reserved.</p>
</footer>

<script>
document.getElementById('btnPay').addEventListener('click', function () {
    const full_name   = document.getElementById('full_name').value.trim();
    const email       = document.getElementById('email').value.trim();
    const card_number = document.getElementById('card_number').value.trim();
    const expiry      = document.getElementById('expiry').value.trim();
    const cvv         = document.getElementById('cvv').value.trim();

    if (!full_name || !email || !card_number || !expiry || !cvv) {
        alert('Please fill in all fields.');
        return;
    }

    const body = new URLSearchParams({
        full_name,
        email,
        card_number,
        expiry,
        cvv
    });

    fetch('checkout_payment.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: body.toString()
    })
    .then(response => {
        if (response.redirected) {
            window.location.href = response.url;
        } else {
            return response.text().then(text => {
                alert(text);
            });
        }
    })
    .catch(err => {
        console.error(err);
        alert('Something went wrong while processing the payment.');
    });
});
</script>

</body>
</html>
